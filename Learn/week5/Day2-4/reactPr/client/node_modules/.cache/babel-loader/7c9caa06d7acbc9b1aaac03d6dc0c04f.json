{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/he125/OneDrive/\\uBC14\\uD0D5 \\uD654\\uBA74/Dev/Git/Aihub_webTrack/Learn/week5/Day2-4/reactPr/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/he125/OneDrive/\\uBC14\\uD0D5 \\uD654\\uBA74/Dev/Git/Aihub_webTrack/Learn/week5/Day2-4/reactPr/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/he125/OneDrive/\\uBC14\\uD0D5 \\uD654\\uBA74/Dev/Git/Aihub_webTrack/Learn/week5/Day2-4/reactPr/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/he125/OneDrive/\\uBC14\\uD0D5 \\uD654\\uBA74/Dev/Git/Aihub_webTrack/Learn/week5/Day2-4/reactPr/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/he125/OneDrive/\\uBC14\\uD0D5 \\uD654\\uBA74/Dev/Git/Aihub_webTrack/Learn/week5/Day2-4/reactPr/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{useCookies}from\"react-cookie\";import $ from\"jquery\";import axios from\"axios\";import url from\"./../../data/port.json\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Create=function Create(){var navigate=useNavigate();var _useCookies=useCookies([\"userData\"]),_useCookies2=_slicedToArray(_useCookies,3),cookies=_useCookies2[0],setCookie=_useCookies2[1],removeCookie=_useCookies2[2];var _useState=useState({img:\"\",title:\"\",content:\"\",email:cookies.userData.email}),_useState2=_slicedToArray(_useState,2),createReview=_useState2[0],setCreateReview=_useState2[1];useEffect(function(){console.log(createReview);},[createReview]);var onChangeCreateReview=function onChangeCreateReview(e){setCreateReview(_objectSpread(_objectSpread({},createReview),{},_defineProperty({},e.target.name,e.target.value)));};var onClickCreateReviewButton=function onClickCreateReviewButton(){if(createReview.img===\"\"){alert(\"이미지 경로를 입력해주세요.\");$(\"#img\").focus();return;}if(createReview.title===\"\"){alert(\"제목을 입력해주세요.\");$(\"#title\").focus();return;}if(createReview.content===\"\"){alert(\"내용을 입력해주세요.\");$(\"#content\").focus();return;}sendCreateReview().then(function(res){console.log(res);alert(res.data.result);navigate(\"/review/list\");}).catch(function(e){console.log(e);});};var sendCreateReview=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(url.url+\"/posts\",createReview,{headers:{accessToken:cookies.userData.accessToken}});case 2:return _context.abrupt(\"return\",_context.sent);case 3:case\"end\":return _context.stop();}}},_callee);}));return function sendCreateReview(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"album\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-img-top\",style:{textAlign:\"center\"},children:createReview.img!==\"\"?/*#__PURE__*/_jsx(\"img\",{src:createReview.img,alt:\"movie img\"}):/*#__PURE__*/_jsx(_Fragment,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:\"Movie Img\"}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:\"Img Example\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"img\",onChange:onChangeCreateReview,id:\"img\",placeholder:\"\\uC0AC\\uC9C4 URL\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"card-text\",children:/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"url...\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",className:\"form-label\",children:\"\\uC81C\\uBAA9\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",onChange:onChangeCreateReview,name:\"title\",id:\"title\",placeholder:\"\\uC81C\\uBAA9\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"content\",className:\"form-label\",children:\"\\uB0B4\\uC6A9\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",onChange:onChangeCreateReview,name:\"content\",id:\"content\",rows:\"3\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-primary\",style:{marginRight:\"2%\"},onClick:onClickCreateReviewButton,children:\"\\uC0DD\\uC131\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-outline-danger\",children:\"\\uB4A4\\uB85C\\uAC00\\uAE30\"})]})});};export default Create;","map":{"version":3,"names":["useEffect","useState","useCookies","$","axios","url","useNavigate","Create","navigate","cookies","setCookie","removeCookie","img","title","content","email","userData","createReview","setCreateReview","console","log","onChangeCreateReview","e","target","name","value","onClickCreateReviewButton","alert","focus","sendCreateReview","then","res","data","result","catch","post","headers","accessToken","textAlign","marginRight"],"sources":["C:/Users/he125/OneDrive/바탕 화면/Dev/Git/Aihub_webTrack/Learn/week5/Day2-4/reactPr/client/src/pages/review/Create.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport $ from \"jquery\";\r\nimport axios from \"axios\";\r\nimport url from \"./../../data/port.json\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Create = () => {\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const [cookies, setCookie, removeCookie] = useCookies([\"userData\"]);\r\n\r\n    const [createReview, setCreateReview] = useState({\r\n        img: \"\",\r\n        title: \"\",\r\n        content: \"\",\r\n        email: cookies.userData.email\r\n    });\r\n\r\n    useEffect(() => {\r\n        console.log(createReview);\r\n    }, [createReview]);\r\n\r\n    const onChangeCreateReview = (e) => {\r\n        setCreateReview({\r\n            ...createReview,\r\n            [e.target.name]: e.target.value\r\n        });\r\n    }\r\n\r\n    const onClickCreateReviewButton = () => {\r\n\r\n        if (createReview.img === \"\") {\r\n            alert(\"이미지 경로를 입력해주세요.\");\r\n            $(\"#img\").focus();\r\n            return;\r\n        }\r\n\r\n        if (createReview.title === \"\") {\r\n            alert(\"제목을 입력해주세요.\");\r\n            $(\"#title\").focus();\r\n            return;\r\n        }\r\n\r\n        if (createReview.content === \"\") {\r\n            alert(\"내용을 입력해주세요.\");\r\n            $(\"#content\").focus();\r\n            return;\r\n        }\r\n\r\n        sendCreateReview().then(res => {\r\n            console.log(res);\r\n            alert(res.data.result);\r\n            navigate(\"/review/list\");\r\n        }).catch(e => {\r\n            console.log(e);\r\n        })\r\n\r\n    }\r\n\r\n\r\n    const sendCreateReview = async () => {\r\n        return await axios.post(url.url + \"/posts\", createReview, {\r\n            headers: {\r\n                accessToken: cookies.userData.accessToken\r\n            }\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div className=\"album\">\r\n            <div className=\"container\">\r\n                <div className=\"card mb-3\">\r\n                    <div className=\"card-img-top\" style={{ textAlign: \"center\" }}>\r\n                        {\r\n                            createReview.img !== \"\" ? (<img src={createReview.img} alt=\"movie img\" />)\r\n                                : (<></>)\r\n                        }\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                        <h5 className=\"card-title\">Movie Img</h5>\r\n                        <p className=\"card-text\">\r\n                            Img Example\r\n                        </p>\r\n                        <input type=\"text\" className=\"form-control\" name=\"img\" onChange={onChangeCreateReview} id=\"img\" placeholder=\"사진 URL을 입력해주세요.\" />\r\n                        <p className=\"card-text\"><small className=\"text-muted\">url...</small></p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                    <label htmlFor=\"title\" className=\"form-label\">제목</label>\r\n                    <input type=\"text\" className=\"form-control\" onChange={onChangeCreateReview} name=\"title\" id=\"title\" placeholder=\"제목을 입력해주세요.\" />\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                    <label htmlFor=\"content\" className=\"form-label\">내용</label>\r\n                    <textarea className=\"form-control\" onChange={onChangeCreateReview} name=\"content\" id=\"content\" rows=\"3\"></textarea>\r\n                </div>\r\n                <button type=\"button\" className=\"btn btn-outline-primary\" style={{ marginRight: \"2%\" }} onClick={onClickCreateReviewButton}>생성</button>\r\n                <button type=\"button\" className=\"btn btn-outline-danger\">뒤로가기</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Create;"],"mappings":"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"},"metadata":{},"sourceType":"module"}