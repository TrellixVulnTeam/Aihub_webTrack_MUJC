{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/he125/OneDrive/\\uBC14\\uD0D5 \\uD654\\uBA74/Dev/Git/Aihub_webTrack/Learn/week5/Day2-4/reactPr/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/he125/OneDrive/\\uBC14\\uD0D5 \\uD654\\uBA74/Dev/Git/Aihub_webTrack/Learn/week5/Day2-4/reactPr/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/he125/OneDrive/\\uBC14\\uD0D5 \\uD654\\uBA74/Dev/Git/Aihub_webTrack/Learn/week5/Day2-4/reactPr/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/he125/OneDrive/\\uBC14\\uD0D5 \\uD654\\uBA74/Dev/Git/Aihub_webTrack/Learn/week5/Day2-4/reactPr/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/he125/OneDrive/\\uBC14\\uD0D5 \\uD654\\uBA74/Dev/Git/Aihub_webTrack/Learn/week5/Day2-4/reactPr/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import $ from\"jquery\";import{useRef,useState,useEffect}from\"react\";import axios from\"axios\";import port from\"./../../data/port.json\";import{useCookies}from\"react-cookie\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SocialSignUp=function SocialSignUp(){var _useCookies=useCookies([\"auth\"]),_useCookies2=_slicedToArray(_useCookies,3),cookiesAuth=_useCookies2[0],setCookieAuth=_useCookies2[1],removeCookieAuth=_useCookies2[2];var emailRef=useRef();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),errorMessage=_useState2[0],setErrorMessage=_useState2[1];var _useState3=useState({email:\"\",password:\"\",rePassword:\"\",name:\"\"}),_useState4=_slicedToArray(_useState3,2),signUpData=_useState4[0],setSignUpdata=_useState4[1];var onChangeSignUpData=function onChangeSignUpData(e){setSignUpdata(_objectSpread(_objectSpread({},signUpData),{},_defineProperty({},e.target.name,e.target.value)));};useEffect(function(){console.log(cookiesAuth.auth);setSignUpdata(_objectSpread(_objectSpread({},signUpData),{},{email:cookiesAuth.auth.kakao_account.email,name:cookiesAuth.auth.kakao_account.profile.nickname}));},[]);var onClickSignUpButton=function onClickSignUpButton(){if(signUpData.email===\"\"){alert(\"이메일을 입력해주세요.\");emailRef.current.focus();return;}if(signUpData.password===\"\"){alert(\"비밀번호를 입력해주세요.\");$(\"#password\").focus();return;}if(signUpData.rePassword===\"\"){alert(\"비밀번호 확인을 입력해주세요.\");$(\"#rePassword\").focus();return;}if(signUpData.name===\"\"){alert(\"이름을 입력해주세요.\");$(\"#name\").focus();return;}if(signUpData.password!==signUpData.rePassword){alert(\"비밀번호와 비밀번호 확인이 같지 않습니다.\");setSignUpdata(_objectSpread(_objectSpread({},signUpData),{},{password:\"\",rePassword:\"\"}));$(\"#password\").focus();return;}sendSignUpData().then(function(res){console.log(res.data);alert(res.data.result);window.location.reload();}).catch(function(e){console.log(e);setErrorMessage(e.response.data.error);});};var sendSignUpData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.post(port.url+\"/user/signUp\",signUpData);case 2:return _context.abrupt(\"return\",_context.sent);case 3:case\"end\":return _context.stop();}}},_callee);}));return function sendSignUpData(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(\"section\",{className:\"py-5 text-center container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row py-lg-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-6 col-md-8 mx-auto\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"fw-light\",children:\"Movie\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"lead text-muted\",children:[\"\\uB9AC\\uBDF0\\uD558\\uACE0 \\uC2F6\\uC740 \\uC601\\uD654\\uB97C \\uCD94\\uAC00\\uD558\\uACE0, \\uBCC4\\uC810\\uC744 \\uC8FC\\uC138\\uC694.\",/*#__PURE__*/_jsx(\"br\",{}),\"KAKAO SignUp Page\"]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"album\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"form-label\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",ref:emailRef,value:signUpData.email,onChange:onChangeSignUpData,className:\"form-control\",name:\"email\",id:\"email\",\"aria-describedby\":\"emailHelp\",disabled:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:signUpData.password,onChange:onChangeSignUpData,className:\"form-control\",name:\"password\",id:\"password\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"rePassword\",className:\"form-label\",children:\"Re-Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:signUpData.rePassword,onChange:onChangeSignUpData,className:\"form-control\",name:\"rePassword\",id:\"rePassword\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",className:\"form-label\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:signUpData.name,onChange:onChangeSignUpData,className:\"form-control\",name:\"name\",id:\"name\",disabled:true})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:errorMessage})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClickSignUpButton,className:\"btn btn-primary\",children:\"\\uD68C\\uC6D0\\uAC00\\uC785\"})]})})})]});};export default SocialSignUp;","map":{"version":3,"names":["$","useRef","useState","useEffect","axios","port","useCookies","SocialSignUp","cookiesAuth","setCookieAuth","removeCookieAuth","emailRef","errorMessage","setErrorMessage","email","password","rePassword","name","signUpData","setSignUpdata","onChangeSignUpData","e","target","value","console","log","auth","kakao_account","profile","nickname","onClickSignUpButton","alert","current","focus","sendSignUpData","then","res","data","result","window","location","reload","catch","response","error","post","url"],"sources":["C:/Users/he125/OneDrive/바탕 화면/Dev/Git/Aihub_webTrack/Learn/week5/Day2-4/reactPr/client/src/pages/user/SocialSignUp.js"],"sourcesContent":["import $ from \"jquery\";\r\nimport { useRef, useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport port from \"./../../data/port.json\";\r\nimport { useCookies } from \"react-cookie\";\r\n\r\nconst SocialSignUp = () => {\r\n  const [cookiesAuth, setCookieAuth, removeCookieAuth] = useCookies([\"auth\"]);\r\n\r\n  const emailRef = useRef();\r\n\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n  const [signUpData, setSignUpdata] = useState({\r\n    email: \"\",\r\n    password: \"\",\r\n    rePassword: \"\",\r\n    name: \"\",\r\n  });\r\n\r\n  const onChangeSignUpData = (e) => {\r\n    setSignUpdata({\r\n      ...signUpData,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    console.log(cookiesAuth.auth);\r\n\r\n    setSignUpdata({\r\n      ...signUpData,\r\n      email: cookiesAuth.auth.kakao_account.email,\r\n      name: cookiesAuth.auth.kakao_account.profile.nickname,\r\n    });\r\n  }, []);\r\n\r\n  const onClickSignUpButton = () => {\r\n    if (signUpData.email === \"\") {\r\n      alert(\"이메일을 입력해주세요.\");\r\n      emailRef.current.focus();\r\n      return;\r\n    }\r\n\r\n    if (signUpData.password === \"\") {\r\n      alert(\"비밀번호를 입력해주세요.\");\r\n      $(\"#password\").focus();\r\n      return;\r\n    }\r\n\r\n    if (signUpData.rePassword === \"\") {\r\n      alert(\"비밀번호 확인을 입력해주세요.\");\r\n      $(\"#rePassword\").focus();\r\n      return;\r\n    }\r\n\r\n    if (signUpData.name === \"\") {\r\n      alert(\"이름을 입력해주세요.\");\r\n      $(\"#name\").focus();\r\n      return;\r\n    }\r\n\r\n    if (signUpData.password !== signUpData.rePassword) {\r\n      alert(\"비밀번호와 비밀번호 확인이 같지 않습니다.\");\r\n      setSignUpdata({\r\n        ...signUpData,\r\n        password: \"\",\r\n        rePassword: \"\",\r\n      });\r\n      $(\"#password\").focus();\r\n      return;\r\n    }\r\n\r\n    sendSignUpData()\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        alert(res.data.result);\r\n        window.location.reload();\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n        setErrorMessage(e.response.data.error);\r\n      });\r\n  };\r\n\r\n  const sendSignUpData = async () => {\r\n    return await axios.post(port.url + \"/user/signUp\", signUpData);\r\n  };\r\n\r\n  return (\r\n    <main>\r\n      <section className=\"py-5 text-center container\">\r\n        <div className=\"row py-lg-5\">\r\n          <div className=\"col-lg-6 col-md-8 mx-auto\">\r\n            <h1 className=\"fw-light\">Movie</h1>\r\n            <p className=\"lead text-muted\">\r\n              리뷰하고 싶은 영화를 추가하고, 별점을 주세요.\r\n              <br />\r\n              KAKAO SignUp Page\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </section>\r\n      <div className=\"album\">\r\n        <div className=\"container\">\r\n          <form>\r\n            <div className=\"mb-3\">\r\n              <label htmlFor=\"email\" className=\"form-label\">\r\n                Email address\r\n              </label>\r\n              <input\r\n                type=\"email\"\r\n                ref={emailRef}\r\n                value={signUpData.email}\r\n                onChange={onChangeSignUpData}\r\n                className=\"form-control\"\r\n                name=\"email\"\r\n                id=\"email\"\r\n                aria-describedby=\"emailHelp\"\r\n                disabled\r\n              />\r\n            </div>\r\n            <div className=\"mb-3\">\r\n              <label htmlFor=\"password\" className=\"form-label\">\r\n                Password\r\n              </label>\r\n              <input\r\n                type=\"password\"\r\n                value={signUpData.password}\r\n                onChange={onChangeSignUpData}\r\n                className=\"form-control\"\r\n                name=\"password\"\r\n                id=\"password\"\r\n              />\r\n            </div>\r\n            <div className=\"mb-3\">\r\n              <label htmlFor=\"rePassword\" className=\"form-label\">\r\n                Re-Password\r\n              </label>\r\n              <input\r\n                type=\"password\"\r\n                value={signUpData.rePassword}\r\n                onChange={onChangeSignUpData}\r\n                className=\"form-control\"\r\n                name=\"rePassword\"\r\n                id=\"rePassword\"\r\n              />\r\n            </div>\r\n            <div className=\"mb-3\">\r\n              <label htmlFor=\"name\" className=\"form-label\">\r\n                Name\r\n              </label>\r\n              <input\r\n                type=\"text\"\r\n                value={signUpData.name}\r\n                onChange={onChangeSignUpData}\r\n                className=\"form-control\"\r\n                name=\"name\"\r\n                id=\"name\"\r\n                disabled\r\n              />\r\n            </div>\r\n            <div className=\"mb-3\">\r\n              <p className=\"text-danger\">{errorMessage}</p>\r\n            </div>\r\n            <button\r\n              type=\"button\"\r\n              onClick={onClickSignUpButton}\r\n              className=\"btn btn-primary\"\r\n            >\r\n              회원가입\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  );\r\n};\r\n\r\nexport default SocialSignUp;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}