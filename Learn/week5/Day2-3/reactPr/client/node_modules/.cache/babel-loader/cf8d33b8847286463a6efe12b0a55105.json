{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\he125\\\\OneDrive\\\\\\uBC14\\uD0D5 \\uD654\\uBA74\\\\Dev\\\\Git\\\\Aihub_webTrack\\\\Learn\\\\week5\\\\Day2-3\\\\reactPr\\\\client\\\\src\\\\pages\\\\review\\\\Update.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\"; // import { useSelector } from \"react-redux\";\n\nimport url from \"./../../data/port.json\";\nimport { useCookies } from \"react-cookie\";\nimport $ from \"jquery\";\nimport { useParams } from \"react-router-dom\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Update = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const params = useParams();\n  const [cookies, setCookie, removeCookie] = useCookies([\"userData\"]);\n  const [updateData, setUpdateData] = useState({}); // let getReduxShortId = useSelector(state => state.id.value);\n\n  useEffect(() => {\n    findGetReviewData(params.id).then(res => {\n      console.log(res);\n      setUpdateData(res.data);\n    });\n  }, []);\n\n  const findGetReviewData = async () => {\n    return await axios.get(url.url + `/posts/${params.id}/find`, {\n      headers: {\n        accessToken: cookies.userData.accessToken\n      }\n    });\n  };\n\n  const onChangeUpdateData = e => {\n    setUpdateData({ ...updateData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const onClickChangeUpdateData = () => {\n    if (updateData.img === \"\") {\n      alert(\"이미지 경로를 입력해주세요.\");\n      $(\"#img\").focus();\n      return;\n    }\n\n    if (updateData.title === \"\") {\n      alert(\"제목을 입력해주세요.\");\n      $(\"#title\").focus();\n      return;\n    }\n\n    if (updateData.content === \"\") {\n      alert(\"내용을 입력해주세요.\");\n      $(\"#content\").focus();\n      return;\n    }\n\n    sendUpdateData().then(res => {\n      console.log(res);\n      alert(res.data.result);\n      navigate(\"/review/list\");\n    });\n  };\n\n  const sendUpdateData = async () => {\n    return await axios.post(url.url + `/posts/${params.id}/update`, updateData, {\n      headers: {\n        accessToken: cookies.userData.accessToken\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"album\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-img-top\",\n          style: {\n            textAlign: \"center\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: updateData.img,\n            alt: \"movie img\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"card-title\",\n            children: \"Movie Img\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"card-text\",\n            children: \"Img Example\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            defaultValue: updateData.img,\n            onChange: onChangeUpdateData,\n            name: \"img\",\n            disabled: true,\n            id: \"img\",\n            placeholder: \"\\uC0AC\\uC9C4 URL\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"card-text\",\n            children: /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"text-muted\",\n              children: \"url...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 50\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"title\",\n          className: \"form-label\",\n          children: \"\\uC81C\\uBAA9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          defaultValue: updateData.title,\n          onChange: onChangeUpdateData,\n          name: \"title\",\n          id: \"title\",\n          placeholder: \"\\uC81C\\uBAA9\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"content\",\n          className: \"form-label\",\n          children: \"\\uB0B4\\uC6A9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          className: \"form-control\",\n          name: \"content\",\n          defaultValue: updateData.content,\n          onChange: onChangeUpdateData,\n          id: \"content\",\n          rows: \"3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"btn btn-outline-primary\",\n        onClick: onClickChangeUpdateData,\n        style: {\n          marginRight: \"2%\"\n        },\n        children: \"\\uC218\\uC815\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => {\n          window.history.back();\n        },\n        className: \"btn btn-outline-danger\",\n        children: \"\\uB4A4\\uB85C\\uAC00\\uAE30\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Update, \"N8b6vRFK25ccVV3J26CRwRXAg0s=\", false, function () {\n  return [useNavigate, useParams, useCookies];\n});\n\n_c = Update;\nexport default Update;\n\nvar _c;\n\n$RefreshReg$(_c, \"Update\");","map":{"version":3,"names":["axios","useEffect","useState","url","useCookies","$","useParams","useNavigate","Update","navigate","params","cookies","setCookie","removeCookie","updateData","setUpdateData","findGetReviewData","id","then","res","console","log","data","get","headers","accessToken","userData","onChangeUpdateData","e","target","name","value","onClickChangeUpdateData","img","alert","focus","title","content","sendUpdateData","result","post","textAlign","marginRight","window","history","back"],"sources":["C:/Users/he125/OneDrive/바탕 화면/Dev/Git/Aihub_webTrack/Learn/week5/Day2-3/reactPr/client/src/pages/review/Update.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\n// import { useSelector } from \"react-redux\";\r\nimport url from \"./../../data/port.json\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport $ from \"jquery\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Update = () => {\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const params = useParams();\r\n\r\n    const [cookies, setCookie, removeCookie] = useCookies([\"userData\"]);\r\n    const [updateData, setUpdateData] = useState({});\r\n\r\n    // let getReduxShortId = useSelector(state => state.id.value);\r\n\r\n    useEffect(() => {\r\n\r\n        findGetReviewData(params.id).then(res => {\r\n            console.log(res);\r\n            setUpdateData(res.data);\r\n        });\r\n\r\n    }, []);\r\n\r\n    const findGetReviewData = async () => {\r\n        return await axios.get(url.url + `/posts/${params.id}/find`, {\r\n            headers: {\r\n                accessToken: cookies.userData.accessToken\r\n            }\r\n        });\r\n    }\r\n\r\n    const onChangeUpdateData = (e) => {\r\n        setUpdateData({\r\n            ...updateData,\r\n            [e.target.name]: e.target.value\r\n        })\r\n    }\r\n\r\n\r\n    const onClickChangeUpdateData = () => {\r\n        if (updateData.img === \"\") {\r\n            alert(\"이미지 경로를 입력해주세요.\");\r\n            $(\"#img\").focus();\r\n            return;\r\n        }\r\n\r\n        if (updateData.title === \"\") {\r\n            alert(\"제목을 입력해주세요.\");\r\n            $(\"#title\").focus();\r\n            return;\r\n        }\r\n\r\n        if (updateData.content === \"\") {\r\n            alert(\"내용을 입력해주세요.\");\r\n            $(\"#content\").focus();\r\n            return;\r\n        }\r\n\r\n        sendUpdateData().then((res) => {\r\n            console.log(res);\r\n            alert(res.data.result);\r\n            navigate(\"/review/list\");\r\n        })\r\n\r\n    }\r\n\r\n    const sendUpdateData = async () => {\r\n        return await axios.post(url.url + `/posts/${params.id}/update`, updateData, {\r\n            headers: {\r\n                accessToken: cookies.userData.accessToken\r\n            }\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"album\">\r\n            <div className=\"container\">\r\n                <div className=\"card mb-3\">\r\n                    <div className=\"card-img-top\" style={{ textAlign: \"center\" }}>\r\n                        <img src={updateData.img}\r\n                            alt=\"movie img\" />\r\n                    </div>\r\n                    <div className=\"card-body\">\r\n                        <h5 className=\"card-title\">Movie Img</h5>\r\n                        <p className=\"card-text\">\r\n                            Img Example\r\n                        </p>\r\n                        <input type=\"text\" className=\"form-control\" defaultValue={updateData.img}\r\n                            onChange={onChangeUpdateData} name=\"img\" disabled\r\n                            id=\"img\" placeholder=\"사진 URL을 입력해주세요.\" />\r\n                        <p className=\"card-text\"><small className=\"text-muted\">url...</small></p>\r\n                    </div>\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                    <label htmlFor=\"title\" className=\"form-label\">제목</label>\r\n                    <input type=\"text\" className=\"form-control\" defaultValue={updateData.title}\r\n                        onChange={onChangeUpdateData} name=\"title\"\r\n                        id=\"title\" placeholder=\"제목을 입력해주세요.\" />\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                    <label htmlFor=\"content\" className=\"form-label\">내용</label>\r\n                    <textarea className=\"form-control\" name=\"content\" defaultValue={updateData.content}\r\n                        onChange={onChangeUpdateData} id=\"content\"\r\n                        rows=\"3\"></textarea>\r\n                </div>\r\n                <button type=\"button\" className=\"btn btn-outline-primary\"\r\n                    onClick={onClickChangeUpdateData}\r\n                    style={{ marginRight: \"2%\" }}>수정</button>\r\n                <button type=\"button\" onClick={() => {\r\n                    window.history.back();\r\n                }} className=\"btn btn-outline-danger\">뒤로가기</button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Update;"],"mappings":"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"},"metadata":{},"sourceType":"module"}